{"changed":true,"filter":false,"title":"Game.js","tooltip":"/script/Game.js","value":"\"use strict\"; //objekt.metod/egenskap(argument)\n\nvar Game = {\n                // 2,2,4,1,0,3,1,3,4\n    pos: 0,\n    /*imgTagArray: [],\n    count: 1, // antal klick\n    score: 0,\n    firstClick: null,\n    secondClick: null,\n    firstClickLocation: null,\n    gridCol: 4,\n    gridRow: 4,\n    counter: document.getElementById(\"counter\"),\n    */ \n    init: function() {\n\n\n\n\n\n    },\n};\n//När sidan har laddads in så anropas init.\nwindow.onload = Game.init;","undoManager":{"mark":35,"position":76,"stack":[[{"group":"doc","deltas":[{"start":{"row":0,"column":0},"end":{"row":140,"column":28},"action":"insert","lines":["\"use strict\"; //objekt.metod/egenskap(argument)","","var Memory = {","                // 2,2,4,1,0,3,1,3,4","    memoryArray: [],","    imgTagArray: [],","    count: 1, // antal klick","    score: 0,","    firstClick: null,","    secondClick: null,","    firstClickLocation: null,","    gridCol: 4,","    gridRow: 4,","    counter: document.getElementById(\"counter\"),","    ","    init: function() {","        var board = document.getElementById(\"grid\");","","        Memory.memoryArray.push(RandomGenerator.getPictureArray(Memory.gridCol, Memory.gridRow));","        console.log(Memory.memoryArray);","        Memory.memoryBoard(Memory.gridCol, Memory.gridRow);","        // Memory.click(Memory.MemoryArray); ","        ","        ","        var colClassList = document.querySelectorAll(\".colClass\"); // samlar alla element med classen colclass i en lista","       ","       // board.addEventListener(\"click\", function(){ Memory.click(colClassList); }); // skapar klickevent till board","        ","        // Lopar längden av alla element i colClassen, kallar på eventclick","        //för att jag inte få ha en funktion inuti en loop för då blir i alltid fel nummer.","        for (var i = 0; i < colClassList.length; i++) {","            eventClick(i);","        }","        // funktion som vi kallar på i forlopen ovan, den lägger en eventlistener på alla element i colClassList","        function eventClick(locationId){","             colClassList[locationId].addEventListener(\"click\", function() {","                 ","                 ","                //Memory.count ++;","                console.log(Memory.count);","                //var counter = document.getElementById(\"counter\");","               ","                ","                Memory.click(Memory.memoryArray[0][locationId], locationId);// Kallar på memory.click och skickar med bildnummret från arrayen memoryArray samt locationId som är ett ökande nummer","              //Memory.click(Memory.memoryArray[0][locationId],  Memory.imgTagArray[locationId]);","            });","        }","    },","    click: function(picId, locationId /*img*/){ // skickar med colclasslist till click funktion","        ","        var score = document.getElementById(\"score\");","        var img0 = (Memory.imgTagArray[locationId].getAttribute(\"src\")); // /pics/0-png","        if(img0 != \"pics/0.png\"){","           return;","       }","       ","       ","        if (Memory.firstClick === null) ","        {","            Memory.imgTagArray[locationId].setAttribute(\"src\", \"pics/\"+picId+\".png\");","            Memory.firstClick  = picId; ","            Memory.firstClickLocation = locationId;","            Memory.count ++;","            console.log(\"första fungerar\");","            this.removeEventListener","               if (Memory.count%2 === 0){","                    Memory.counter.innerHTML = \"Försök: \" + (Memory.count/2);","                }","        }","        else if(Memory.secondClick === null){","            Memory.secondClick=picId;","            console.log(\"andra fungerar\");","            Memory.imgTagArray[locationId].setAttribute(\"src\", \"pics/\"+picId+\".png\");","           Memory.count ++;","         ","            if (Memory.firstClick === picId){","                Memory.score++;","                console.log(Memory.score);","                ","                score.innerHTML = \"Poäng: \" + Memory.score;","                ","                if(Memory.score === (Memory.gridCol + Memory.gridRow))","                {","                   score.innerHTML += \"<br>Grattis du vann!\";","                   Memory.count = 0;","                }","                Memory.firstClick = null;","                Memory.secondClick = null;","            }","            else ","            {   //vänd tillbaka efter en halv sek, ","                setTimeout(function(){","                    Memory.firstClick = null;","                    Memory.secondClick = null;","                    Memory.imgTagArray[locationId].setAttribute(\"src\", \"pics/0.png\");","                    Memory.imgTagArray[Memory.firstClickLocation].setAttribute(\"src\", \"pics/0.png\");","                }, 500);","            } ","        }","    },","","    memoryBoard: function(rows, cols){","        var grid = document.getElementById(\"grid\");","        var cards = document.getElementById(\"cards\");","        var i = undefined;","        var j = undefined;","        var row = undefined;","        var col = undefined;","        var img = undefined;","        var tiledflipped = 0;","        var output = '';","        var a = undefined;","        ","        for (i = 0; i < rows; i++){","            ","            row = document.createElement(\"tr\");  ","            for (j = 0; j < cols ; j++) {","                //skapar element","                col = document.createElement(\"td\");   ","                img = document.createElement(\"img\");","                a = document.createElement(\"a\"); // skapar en a tagg","                ","                Memory.imgTagArray.push(img); // lägger in (pushar in) img elementet i en array med namnet imgTagArray","                //Sätter egenskaper","                a.setAttribute(\"href\", \"#\");","                img.setAttribute(\"src\", \"pics/0.png\");","                col.setAttribute(\"class\", \"colClass\"); //mina kort","           ","                //Lägger till dom till HTML-sidan","                a.appendChild(img);","                col.appendChild(a);","                row.appendChild(col);","                ","            }","            row.setAttribute(\"class\", \"rowClass\");","            grid.appendChild(row);","        }","    },","};","//När sidan har laddads in så anropas init.","window.onload = Memory.init;"]}]}],[{"group":"doc","deltas":[{"start":{"row":2,"column":4},"end":{"row":2,"column":10},"action":"remove","lines":["Memory"]},{"start":{"row":2,"column":4},"end":{"row":2,"column":5},"action":"insert","lines":["Q"]}]}],[{"group":"doc","deltas":[{"start":{"row":2,"column":5},"end":{"row":2,"column":6},"action":"insert","lines":["U"]}]}],[{"group":"doc","deltas":[{"start":{"row":2,"column":5},"end":{"row":2,"column":6},"action":"remove","lines":["U"]}]}],[{"group":"doc","deltas":[{"start":{"row":2,"column":5},"end":{"row":2,"column":6},"action":"insert","lines":["u"]}]}],[{"group":"doc","deltas":[{"start":{"row":2,"column":6},"end":{"row":2,"column":7},"action":"insert","lines":["i"]}]}],[{"group":"doc","deltas":[{"start":{"row":2,"column":7},"end":{"row":2,"column":8},"action":"insert","lines":["z"]}]}],[{"group":"doc","deltas":[{"start":{"row":2,"column":7},"end":{"row":2,"column":8},"action":"remove","lines":["z"]}]}],[{"group":"doc","deltas":[{"start":{"row":2,"column":6},"end":{"row":2,"column":7},"action":"remove","lines":["i"]}]}],[{"group":"doc","deltas":[{"start":{"row":2,"column":5},"end":{"row":2,"column":6},"action":"remove","lines":["u"]}]}],[{"group":"doc","deltas":[{"start":{"row":2,"column":4},"end":{"row":2,"column":5},"action":"remove","lines":["Q"]}]}],[{"group":"doc","deltas":[{"start":{"row":2,"column":4},"end":{"row":2,"column":5},"action":"insert","lines":["g"]}]}],[{"group":"doc","deltas":[{"start":{"row":2,"column":5},"end":{"row":2,"column":6},"action":"insert","lines":["a"]}]}],[{"group":"doc","deltas":[{"start":{"row":2,"column":6},"end":{"row":2,"column":7},"action":"insert","lines":["m"]}]}],[{"group":"doc","deltas":[{"start":{"row":2,"column":7},"end":{"row":2,"column":8},"action":"insert","lines":["e"]}]}],[{"group":"doc","deltas":[{"start":{"row":16,"column":0},"end":{"row":136,"column":9},"action":"remove","lines":["        var board = document.getElementById(\"grid\");","","        Memory.memoryArray.push(RandomGenerator.getPictureArray(Memory.gridCol, Memory.gridRow));","        console.log(Memory.memoryArray);","        Memory.memoryBoard(Memory.gridCol, Memory.gridRow);","        // Memory.click(Memory.MemoryArray); ","        ","        ","        var colClassList = document.querySelectorAll(\".colClass\"); // samlar alla element med classen colclass i en lista","       ","       // board.addEventListener(\"click\", function(){ Memory.click(colClassList); }); // skapar klickevent till board","        ","        // Lopar längden av alla element i colClassen, kallar på eventclick","        //för att jag inte få ha en funktion inuti en loop för då blir i alltid fel nummer.","        for (var i = 0; i < colClassList.length; i++) {","            eventClick(i);","        }","        // funktion som vi kallar på i forlopen ovan, den lägger en eventlistener på alla element i colClassList","        function eventClick(locationId){","             colClassList[locationId].addEventListener(\"click\", function() {","                 ","                 ","                //Memory.count ++;","                console.log(Memory.count);","                //var counter = document.getElementById(\"counter\");","               ","                ","                Memory.click(Memory.memoryArray[0][locationId], locationId);// Kallar på memory.click och skickar med bildnummret från arrayen memoryArray samt locationId som är ett ökande nummer","              //Memory.click(Memory.memoryArray[0][locationId],  Memory.imgTagArray[locationId]);","            });","        }","    },","    click: function(picId, locationId /*img*/){ // skickar med colclasslist till click funktion","        ","        var score = document.getElementById(\"score\");","        var img0 = (Memory.imgTagArray[locationId].getAttribute(\"src\")); // /pics/0-png","        if(img0 != \"pics/0.png\"){","           return;","       }","       ","       ","        if (Memory.firstClick === null) ","        {","            Memory.imgTagArray[locationId].setAttribute(\"src\", \"pics/\"+picId+\".png\");","            Memory.firstClick  = picId; ","            Memory.firstClickLocation = locationId;","            Memory.count ++;","            console.log(\"första fungerar\");","            this.removeEventListener","               if (Memory.count%2 === 0){","                    Memory.counter.innerHTML = \"Försök: \" + (Memory.count/2);","                }","        }","        else if(Memory.secondClick === null){","            Memory.secondClick=picId;","            console.log(\"andra fungerar\");","            Memory.imgTagArray[locationId].setAttribute(\"src\", \"pics/\"+picId+\".png\");","           Memory.count ++;","         ","            if (Memory.firstClick === picId){","                Memory.score++;","                console.log(Memory.score);","                ","                score.innerHTML = \"Poäng: \" + Memory.score;","                ","                if(Memory.score === (Memory.gridCol + Memory.gridRow))","                {","                   score.innerHTML += \"<br>Grattis du vann!\";","                   Memory.count = 0;","                }","                Memory.firstClick = null;","                Memory.secondClick = null;","            }","            else ","            {   //vänd tillbaka efter en halv sek, ","                setTimeout(function(){","                    Memory.firstClick = null;","                    Memory.secondClick = null;","                    Memory.imgTagArray[locationId].setAttribute(\"src\", \"pics/0.png\");","                    Memory.imgTagArray[Memory.firstClickLocation].setAttribute(\"src\", \"pics/0.png\");","                }, 500);","            } ","        }","    },","","    memoryBoard: function(rows, cols){","        var grid = document.getElementById(\"grid\");","        var cards = document.getElementById(\"cards\");","        var i = undefined;","        var j = undefined;","        var row = undefined;","        var col = undefined;","        var img = undefined;","        var tiledflipped = 0;","        var output = '';","        var a = undefined;","        ","        for (i = 0; i < rows; i++){","            ","            row = document.createElement(\"tr\");  ","            for (j = 0; j < cols ; j++) {","                //skapar element","                col = document.createElement(\"td\");   ","                img = document.createElement(\"img\");","                a = document.createElement(\"a\"); // skapar en a tagg","                ","                Memory.imgTagArray.push(img); // lägger in (pushar in) img elementet i en array med namnet imgTagArray","                //Sätter egenskaper","                a.setAttribute(\"href\", \"#\");","                img.setAttribute(\"src\", \"pics/0.png\");","                col.setAttribute(\"class\", \"colClass\"); //mina kort","           ","                //Lägger till dom till HTML-sidan","                a.appendChild(img);","                col.appendChild(a);","                row.appendChild(col);","                ","            }","            row.setAttribute(\"class\", \"rowClass\");","            grid.appendChild(row);","        }"]}]}],[{"group":"doc","deltas":[{"start":{"row":20,"column":16},"end":{"row":20,"column":22},"action":"remove","lines":["Memory"]},{"start":{"row":20,"column":16},"end":{"row":20,"column":17},"action":"insert","lines":["g"]}]}],[{"group":"doc","deltas":[{"start":{"row":20,"column":17},"end":{"row":20,"column":18},"action":"insert","lines":["a"]}]}],[{"group":"doc","deltas":[{"start":{"row":20,"column":18},"end":{"row":20,"column":19},"action":"insert","lines":["m"]}]}],[{"group":"doc","deltas":[{"start":{"row":20,"column":19},"end":{"row":20,"column":20},"action":"insert","lines":["e"]}]}],[{"group":"doc","deltas":[{"start":{"row":20,"column":19},"end":{"row":20,"column":20},"action":"remove","lines":["e"]}]}],[{"group":"doc","deltas":[{"start":{"row":20,"column":18},"end":{"row":20,"column":19},"action":"remove","lines":["m"]}]}],[{"group":"doc","deltas":[{"start":{"row":20,"column":17},"end":{"row":20,"column":18},"action":"remove","lines":["a"]}]}],[{"group":"doc","deltas":[{"start":{"row":20,"column":16},"end":{"row":20,"column":17},"action":"remove","lines":["g"]}]}],[{"group":"doc","deltas":[{"start":{"row":20,"column":16},"end":{"row":20,"column":17},"action":"insert","lines":["G"]}]}],[{"group":"doc","deltas":[{"start":{"row":20,"column":17},"end":{"row":20,"column":18},"action":"insert","lines":["a"]}]}],[{"group":"doc","deltas":[{"start":{"row":20,"column":18},"end":{"row":20,"column":19},"action":"insert","lines":["m"]}]}],[{"group":"doc","deltas":[{"start":{"row":20,"column":19},"end":{"row":20,"column":20},"action":"insert","lines":["e"]}]}],[{"group":"doc","deltas":[{"start":{"row":2,"column":4},"end":{"row":2,"column":8},"action":"remove","lines":["game"]},{"start":{"row":2,"column":4},"end":{"row":2,"column":5},"action":"insert","lines":["Q"]}]}],[{"group":"doc","deltas":[{"start":{"row":2,"column":5},"end":{"row":2,"column":6},"action":"insert","lines":["u"]}]}],[{"group":"doc","deltas":[{"start":{"row":2,"column":6},"end":{"row":2,"column":7},"action":"insert","lines":["i"]}]}],[{"group":"doc","deltas":[{"start":{"row":2,"column":7},"end":{"row":2,"column":8},"action":"insert","lines":["z"]}]}],[{"group":"doc","deltas":[{"start":{"row":2,"column":4},"end":{"row":2,"column":8},"action":"remove","lines":["Quiz"]},{"start":{"row":2,"column":4},"end":{"row":2,"column":5},"action":"insert","lines":["G"]}]}],[{"group":"doc","deltas":[{"start":{"row":2,"column":5},"end":{"row":2,"column":6},"action":"insert","lines":["a"]}]}],[{"group":"doc","deltas":[{"start":{"row":2,"column":6},"end":{"row":2,"column":7},"action":"insert","lines":["m"]}]}],[{"group":"doc","deltas":[{"start":{"row":2,"column":7},"end":{"row":2,"column":8},"action":"insert","lines":["e"]}]}],[{"group":"doc","deltas":[{"start":{"row":16,"column":0},"end":{"row":17,"column":0},"action":"insert","lines":["",""]}]}],[{"group":"doc","deltas":[{"start":{"row":17,"column":0},"end":{"row":18,"column":0},"action":"insert","lines":["",""]}]}],[{"group":"doc","deltas":[{"start":{"row":18,"column":0},"end":{"row":19,"column":0},"action":"insert","lines":["",""]}]}],[{"group":"doc","deltas":[{"start":{"row":19,"column":0},"end":{"row":20,"column":0},"action":"insert","lines":["",""]}]}],[{"group":"doc","deltas":[{"start":{"row":16,"column":0},"end":{"row":16,"column":1},"action":"insert","lines":["v"]}]}],[{"group":"doc","deltas":[{"start":{"row":16,"column":1},"end":{"row":16,"column":2},"action":"insert","lines":["a"]}]}],[{"group":"doc","deltas":[{"start":{"row":16,"column":2},"end":{"row":16,"column":3},"action":"insert","lines":["r"]}]}],[{"group":"doc","deltas":[{"start":{"row":16,"column":3},"end":{"row":16,"column":4},"action":"insert","lines":[" "]}]}],[{"group":"doc","deltas":[{"start":{"row":16,"column":4},"end":{"row":16,"column":5},"action":"insert","lines":["p"]}]}],[{"group":"doc","deltas":[{"start":{"row":16,"column":5},"end":{"row":16,"column":6},"action":"insert","lines":["o"]}]}],[{"group":"doc","deltas":[{"start":{"row":16,"column":6},"end":{"row":16,"column":7},"action":"insert","lines":["s"]}]}],[{"group":"doc","deltas":[{"start":{"row":16,"column":7},"end":{"row":16,"column":8},"action":"insert","lines":[" "]}]}],[{"group":"doc","deltas":[{"start":{"row":16,"column":8},"end":{"row":16,"column":9},"action":"insert","lines":["="]}]}],[{"group":"doc","deltas":[{"start":{"row":16,"column":9},"end":{"row":16,"column":10},"action":"insert","lines":[" "]}]}],[{"group":"doc","deltas":[{"start":{"row":16,"column":10},"end":{"row":16,"column":11},"action":"insert","lines":["{"]}]}],[{"group":"doc","deltas":[{"start":{"row":16,"column":11},"end":{"row":16,"column":12},"action":"insert","lines":["}"]}]}],[{"group":"doc","deltas":[{"start":{"row":16,"column":9},"end":{"row":16,"column":10},"action":"insert","lines":[" "]}]}],[{"group":"doc","deltas":[{"start":{"row":16,"column":10},"end":{"row":16,"column":11},"action":"insert","lines":["0"]}]}],[{"group":"doc","deltas":[{"start":{"row":4,"column":4},"end":{"row":4,"column":15},"action":"remove","lines":["memoryArray"]},{"start":{"row":4,"column":4},"end":{"row":4,"column":5},"action":"insert","lines":["p"]}]}],[{"group":"doc","deltas":[{"start":{"row":4,"column":5},"end":{"row":4,"column":6},"action":"insert","lines":["o"]}]}],[{"group":"doc","deltas":[{"start":{"row":4,"column":6},"end":{"row":4,"column":7},"action":"insert","lines":["s"]}]}],[{"group":"doc","deltas":[{"start":{"row":4,"column":9},"end":{"row":4,"column":11},"action":"remove","lines":["[]"]}]}],[{"group":"doc","deltas":[{"start":{"row":4,"column":9},"end":{"row":4,"column":10},"action":"insert","lines":["0"]}]}],[{"group":"doc","deltas":[{"start":{"row":16,"column":0},"end":{"row":16,"column":14},"action":"remove","lines":["var pos = 0 {}"]}]}],[{"group":"doc","deltas":[{"start":{"row":5,"column":4},"end":{"row":5,"column":5},"action":"insert","lines":["7"]}]}],[{"group":"doc","deltas":[{"start":{"row":5,"column":5},"end":{"row":5,"column":6},"action":"insert","lines":["*"]}]}],[{"group":"doc","deltas":[{"start":{"row":5,"column":5},"end":{"row":5,"column":6},"action":"remove","lines":["*"]}]}],[{"group":"doc","deltas":[{"start":{"row":5,"column":4},"end":{"row":5,"column":5},"action":"remove","lines":["7"]}]}],[{"group":"doc","deltas":[{"start":{"row":5,"column":4},"end":{"row":5,"column":5},"action":"insert","lines":["-"]}]}],[{"group":"doc","deltas":[{"start":{"row":5,"column":5},"end":{"row":5,"column":6},"action":"insert","lines":["-"]}]}],[{"group":"doc","deltas":[{"start":{"row":5,"column":5},"end":{"row":5,"column":6},"action":"remove","lines":["-"]}]}],[{"group":"doc","deltas":[{"start":{"row":5,"column":4},"end":{"row":5,"column":5},"action":"remove","lines":["-"]}]}],[{"group":"doc","deltas":[{"start":{"row":5,"column":4},"end":{"row":5,"column":5},"action":"insert","lines":["*"]}]}],[{"group":"doc","deltas":[{"start":{"row":5,"column":5},"end":{"row":5,"column":6},"action":"insert","lines":["*"]}]}],[{"group":"doc","deltas":[{"start":{"row":5,"column":5},"end":{"row":5,"column":6},"action":"remove","lines":["*"]}]}],[{"group":"doc","deltas":[{"start":{"row":5,"column":4},"end":{"row":5,"column":5},"action":"remove","lines":["*"]}]}],[{"group":"doc","deltas":[{"start":{"row":5,"column":4},"end":{"row":5,"column":5},"action":"insert","lines":["/"]}]}],[{"group":"doc","deltas":[{"start":{"row":5,"column":5},"end":{"row":5,"column":6},"action":"insert","lines":["*"]}]}],[{"group":"doc","deltas":[{"start":{"row":14,"column":4},"end":{"row":14,"column":5},"action":"insert","lines":["*"]}]}],[{"group":"doc","deltas":[{"start":{"row":14,"column":5},"end":{"row":14,"column":6},"action":"insert","lines":["/"]}]}],[{"group":"doc","deltas":[{"start":{"row":14,"column":6},"end":{"row":14,"column":7},"action":"insert","lines":[" "]}]}]]},"ace":{"folds":[],"scrolltop":0,"scrollleft":0,"selection":{"start":{"row":14,"column":7},"end":{"row":14,"column":7},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":0},"timestamp":1428491639547}